<!DOCTYPE html>
<html>

<body>

    <h1>My First JavaScript</h1>

    <p id="demo">hello second page</p>

    <script>
        function myFunction() {
            var domain = 'http://127.0.0.1';
            // window.open('','_parent');

            //periodical message sender
            setInterval(function () {
                var message = 'Hello!  The time is: ' + (new Date().getTime());
                console.log('Second page :  sending message:  ' + message);
                window.parent.postMessage(message); //send the message and target URI
            }, 1000);

            //listen to holla back
            // window.addEventListener('message', function (event) {
            //     // if (event.origin !== 'http://127.0.0.1:5500') return;
            //     console.log('received response:  ', event.data);
            // }, false);
        }
    </script>

    <button type="button" onclick="myFunction()">Click Me!</button>

</body>

</html>